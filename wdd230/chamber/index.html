<!DOCTYPE html>
<html lang="eng">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, inital-scale=1.0">
        <title>Chamber of Commerce</title>
        <script type="text/javascript" src="scripts.js" defer></script>
        <script type="text/javascript" src="windchill.js" defer></script>
        <script type="text/javascript" src="weather.js" defer></script>
        <script type="text/javascript" src="banner.js" defer></script>
        <link rel="stylesheet" href="base.css"> 
        <link rel="stylesheet" href="medium.css"> 
        <link rel="stylesheet" href="large.css"> 
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@600&family=Red+Hat+Mono&display=swap" rel="stylesheet">

</head>
<header>
  
   
<script class="date">
  // select the elements to manipulate (output to)
const datefield = document.querySelector(".date");
const datefieldUK = document.querySelector("aside"); // for european/family history format with day first.

// derive the current date using a date object
const today = new Date();
const fulldate = new Intl.DateTimeFormat("en-US", { dateStyle: "full" }).format(
	today
);
const fulldateUK = new Intl.DateTimeFormat("en-UK", {
	dateStyle: "full"
}).format(today);
// long, medium, short options ... try them

datefield.innerHTML = `${fulldate}`;
datefieldUK.innerHTML = `${fulldateUK}`;


</script>

       
        <a href="index.html"><img class= "logo" src="https://raw.githubusercontent.com/eplingk/eplingk.github.io/main/wdd230/chamber/ifcoclogo.webp" alt="logo" width="200" height="200"></a>
        <nav>
            <div class="navbar">
              <div class="container nav-container">
                  <input class="checkbox" type="checkbox" name="" id="" />
                  <div class="hamburger-lines">
                    <span class="line line1"></span>
                    <span class="line line2"></span>
                    <span class="line line3"></span>
                  </div>  
                <div class="logo">
                  <h1>Idaho Falls Chamber of Commerce</h1>
                </div>
                <div class="menu-items">
                  <li><a href="index.html">Home</a></li>
                  <li><a href="discover.html">Discover</a></li>
                  <li><a href="join.html">Membership</a></li>
                  <li><a href="directory.html">Directory</a></li>
                  <li><a href="contact.html">Contact</a></li>
                  <li><a class="icon" href="https://www.facebook.com/"><img src="https://eplingk.github.io/wdd230/chamber/logo-facebookpng-32204.png" width="20" height="20"></a></li>
                  <li><a class="icon" href="https://twitter.com/"><img src="https://eplingk.github.io/wdd230/chamber/logo-twitter-png-5859.png" width="30" height="30"></a></li>
                </div>
              </div>
            </div>
          </nav>

          <nav class="largeScreenNav">
            <ul>
                <li class="active"><a href="index.html">Home</a></li>
                <li class="active"><a href="discover.html">Discover</a></li>
                <li class="active"><a href="join.html">Membership</a></li>
                <li class="active"><a href="directory.html">Directory</a></li>
                <li class="active"><a href="contact.html">Contact</a></li>
                <li class="iconF"><a class="active" href="https://www.facebook.com/"><img src="https://eplingk.github.io/wdd230/chamber/logo-facebookpng-32204.png" width="20" height="20"></a></li>
                <li class="iconT"><a class="active" href="https://twitter.com/"><img src="https://eplingk.github.io/wdd230/chamber/logo-twitter-png-5859.png" width="30" height="30"></a></li>
            </ul>
            <h1>Idaho Falls Chamber of Commerce</h1>
          </nav>

        </header>
<body>
  <div class="banner"></div>
    
     
     <div class="grid"> 

      <div class="callToAction">
        <h2><b>Welcome to Idaho Falls</b></h2>
        <picture>
       
              <img class="wImage" src="http://unitedautosif.com/wp-content/uploads/2019/06/IMG_6296-1024x683.jpg" width="800" height="500" >
              </picture>
              <div class="Jbutton"><a href="join.html">Join the Commerce</a></div>
                  </div>
      <div class="event">
      <div class="box"><p>UP NEXT ON OUR CALENDAR:</p><br><p>Dec 20th: Secret Santa Business</p><br><p>Support a random local business, and another will support yours!</p></div>
      </div>
      <div class="weather">
        <p>Current temperature: <span id="current-temp"></span> &deg;F</p>
        <figure>
          <img src="" alt="" id="weather-icon" />
          <figcaption></figcaption>
        </figure>
        <p>wind-speed: <span id="wind-speed"></span></p><br>
        <p>wind-chill: <span id="wind-chill"></span></p>


        <script>
          const APPID = "0570247ac33ba42aae0b5a1480a6378c";

const currentTemp = document.querySelector('#current-temp');
const weatherIcon = document.querySelector('#weather-icon');
const captionDesc = document.querySelector('figcaption');
const cityName = document.querySelector('#city-name');
const humidity = document.querySelector("#humidity");
const pressure = document.querySelector("#pressure");
const windSpeed = document.querySelector("#wind-speed");
const windChill = document.querySelector("#wind-chill");
const windDirection = document.querySelector("#wind-direction")

const url = "https://api.openweathermap.org/data/2.5/weather?zip=97060&appid=4d9f17ef42374d8bec405fcc33edb96a&units=imperial"

async function apiFetch() {
  try {
    const response = await fetch(url);
    if (response.ok) {
      const data = await response.json();
      console.log(data); 
      displayResults(data);
    } else {
        throw Error(await response.text());
    }
  } catch (error) {
      console.log(error);
  }
}

function capitalize(str) {
  const arr = str.split(" ");
  for (let i = 0; i < arr.length; i++) {
    arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].slice(1);
  }
  const str2 = arr.join(" ");
  return str2;
}

function degToCompass(num) {

  const arrayOfDirectionCodes = ["N", "NNE", "NE", "ENE", "E", "ESE", "SE", "SSE", "S", "SSW", "SW", "WSW", "W", "WNW", "NW", "NNW"];
  let val = Math.floor((num / 22.5) + 0.5);
  return arrayOfDirectionCodes[(val % 16)];
}

function convertMillibarsToInchesOfMercury(num) {
  return num * 0.030;
}

function displayResults(weatherData) {
  currentTemp.innerHTML = `<strong>${weatherData.main.temp.toFixed(0)}</strong>`;
  windSpeed.innerHTML = `${weatherData.main.speed}`;
  windChill.innerHTML = `${weatherData.main.deg}`;

  const iconsrc = `https://openweathermap.org/img/w/${weatherData.weather[0].icon}.png`;
  const desc = weatherData.weather[0].description;

  weatherIcon.setAttribute('src', iconsrc);
  weatherIcon.setAttribute('alt', desc);
  captionDesc.textContent = capitalize(desc);
  cityName.textContent = weatherData.name;
  humidity.textContent = weatherData.main.humidity;
  pressure.textContent = convertMillibarsToInchesOfMercury(weatherData.main.pressure).toFixed(1);
  windSpeed.textContent = weatherData.wind.speed.toFixed(0);
  windChill.textContent = weatherData.main.feels_like.toFixed(0);
  windDirection.textContent = degToCompass(weatherData.wind.deg)
}

apiFetch();


        </script>
        
      
    </div>
      <div class="join">
        <div class="Jbutton"><a href="join.html">JOIN US!</a></div></div>
      <div class="newsRelease"><h2>!!!NEWS!!!</h2><br>
      <p>See the latest on COVID-19: </p><a href="https://pandemicpatients.org/?gclid=Cj0KCQjwqc6aBhC4ARIsAN06NmPb9JDeGUE54NmqCGdHA5HPZjWSpX-1196SXGDNQpmmEMaMiadN-J0aAmLCEALw_wcB">Click Here</a></div>
      
      
      <div class="sLight">
        <div class="sLightOne">
          <h2>Spotlight</h2>
          <p>James Carlton, 75, is the oldest business owner in Idaho.
            His business having been successful for 32 years!
          </p>

        </div>
        <div class="sLightTwo">
          <h2>Spotlight</h2>
          <p>High School senior, Callie Termane, tells us about her plan to become 
            one of our local business owners.
          </p>

        

        <div class="sLight3">
          <div class="sLightDiv"><h2> Special Spotlight </h2></div><br>
          <br><p>Idaho Falls Chamber of Commerce celebrates 20 years of growing local businesses.</p>
        </div>
      </div>

     </div>  
    </div>
    
   
    </main>

        
      

            <footer class="footer">
                <img class= "footerlogo" src="https://raw.githubusercontent.com/eplingk/eplingk.github.io/main/wdd230/chamber/ifcoclogo.webp" alt="logo" width="40" height="40">
                <p class="footer">Contact us at: 510-888-9158 </br>
                or ifcocemail@gmail.com</p>
                <li class="footer" id="map"><a href = "https://www.google.com/maps/place/Idaho+Falls,+ID/@43.4926827,-112.1037469,12z/data=!3m1!4b1!4m5!3m4!1s0x5354594e739512b5:0x2311c9fc094c49c9!8m2!3d43.4926607!4d-112.0407584">Link to our map</a></li>
                    <main class="footer">
                    <div class="footer" id="lastModified">
                    <script class="footer">
                        if (Date.parse(document.lastModified) != 0)
                            document.write('<p><b>Â©2022 IF Chamber of Commerce | Katie Epling | WDD 230 Project |Weather info provided by: OpenWeather API| Last Modification: '
                                           + document.lastModified
                                           + '</i></small>');
                        </script>
                        </p></div>
            </footer>
    </body>
</html>